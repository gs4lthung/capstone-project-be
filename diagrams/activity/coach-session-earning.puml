@startuml Coach Session Management & Earning Workflow

title Coach Session Management & Earning Workflow

start

:Coach views course schedule;
:See all sessions for course;

:Coach prepares for session;
if (Session time arrived?) then (yes)
  :Initiate session;
  :Start video conference (Agora);
  :Session status = IN_PROGRESS;
  
  :Learners join session;
  :Coach conducts class;
  :Coach monitors attendance;
  :Answer learner questions;
  
else (no)
  :Wait for session time;
  stop
endif

:Coach decides to end session;
:Stop video conference;
:Session status = COMPLETED;

:System records attendance;
loop For each enrolled learner
  if (Learner attended?) then (yes)
    :Mark attendance = PRESENT;
  else (no)
    :Mark attendance = ABSENT;
  endif
end loop

:Calculate session earnings;
:Deduct platform fee;
:Add earnings to coach wallet;
:Create session earning record;
:Update wallet balance;
:Create wallet transaction (CREDIT);

:Coach reviews performance;
:View session analytics;
:Check learner feedback;
:View attendance statistics;

:Coach can provide additional resources;
:Session cycle complete;

stop
