@startuml ManageSubjectClassDiagram
!theme plain
skinparam classBackgroundColor #f0f0f0
skinparam classBorderColor #333
skinparam arrowColor #333

left to right direction

' ════════════════════════════════════════════════════════════════════════════════════
' CONTROLLER LAYER
' ════════════════════════════════════════════════════════════════════════════════════

class SubjectController {

}

' ════════════════════════════════════════════════════════════════════════════════════
' GUARD LAYER
' ════════════════════════════════════════════════════════════════════════════════════

class AuthGuard {

}

class RoleGuard {

}

' ════════════════════════════════════════════════════════════════════════════════════
' DTO LAYER
' ════════════════════════════════════════════════════════════════════════════════════

class CreateSubjectDto {

}

class UpdateSubjectDto {

}

' ════════════════════════════════════════════════════════════════════════════════════
' SERVICE LAYER
' ════════════════════════════════════════════════════════════════════════════════════

class SubjectService {

}

class BunnyService {

}

' ════════════════════════════════════════════════════════════════════════════════════
' ENTITY LAYER
' ════════════════════════════════════════════════════════════════════════════════════

class Subject {

}

class User {

}

class Lesson {

}

' ════════════════════════════════════════════════════════════════════════════════════
' RELATIONSHIPS
' ════════════════════════════════════════════════════════════════════════════════════

' Controller relationships
SubjectController --> AuthGuard: validates
SubjectController --> RoleGuard: checks role
SubjectController --> SubjectService: uses
SubjectController --> CreateSubjectDto: receives
SubjectController --> UpdateSubjectDto: receives

' Service relationships
SubjectService --> BunnyService: uses
SubjectService --> Subject: manages
SubjectService --> Lesson: validates

' Entity relationships
Subject --> User: createdBy
Subject --> Lesson: has many

@enduml
