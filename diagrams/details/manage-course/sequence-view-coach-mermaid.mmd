sequenceDiagram
    actor coach as Coach
    participant controller as CourseController
    participant authGuard as AuthGuard
    participant service as CourseService
    participant db as DataSource

    Note over coach, db: View Coach's Courses

    coach->>controller: GET /courses/coach?page=1&size=10
    activate controller

    controller->>authGuard: canActivate(context)
    activate authGuard
    authGuard-->>controller: true (authenticated)
    deactivate authGuard

    controller->>service: findCoachCourses(page, size)
    activate service

    service->>db: transaction
    activate db
    db-->>service: PaginateObject~Course~
    deactivate db

    service-->>controller: PaginateObject~Course~
    deactivate service

    controller-->>coach: HTTP 200 PaginateObject~Course~
    deactivate controller

    Note over coach, db: View Single Course Details

    coach->>controller: GET /courses/:id
    activate controller

    controller->>service: findOne(id)
    activate service

    service->>db: transaction
    activate db
    db-->>service: Course with full relations
    deactivate db

    service-->>controller: Course
    deactivate service

    controller-->>coach: HTTP 200 Course
    deactivate controller
