sequenceDiagram
    actor User
    participant controller as SessionController
    participant auth as AuthGuard
    participant role as RoleGuard
    participant service as SessionService
    participant db as DataSource

    User->>controller: GET /sessions/:id
    activate controller
    controller->>auth: validate JWT
    activate auth
    auth-->>controller: valid
    deactivate auth
    controller->>role: check COACH/LEARNER role
    activate role
    role-->>controller: authorized
    deactivate role
    controller->>service: findOne(id)
    activate service
    service->>db: query session by id with relations
    activate db
    Note right of db: Relations: schedule, course,<br/>enrollments, attendances
    db-->>service: session details
    deactivate db
    service-->>controller: session data
    deactivate service
    controller-->>User: HTTP 200 with session
    deactivate controller
